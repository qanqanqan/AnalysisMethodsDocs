# Архитектура *Hadoop* и *HDFS*

## Модули
Компоненты архитектуры *Hadoop* состоят из четырех основных модулей:
- *HDFS*: Распределенная файловая система 
- *Hadoop MapReduce*: Фреймворк, обеспечивающий выполнение *MapReduce*-вычислений на больших данных
- *YARN*: Система управления ресурсами, включенными в общий кластер
- *Hadoop* Common: Набор различных утилит, необходимых для создания программной инфраструктуры, лежащей в основе других компонентов и модулей

## Структура *HDFS*
Кластер *HDFS* имеет следующие компоненты:
- Управляющий узел, он же узел имен(*NameNode*)
- Узел данных(*DataNode*)
- Вторичный узел имен(*Secondary NameNode*)
- Клиентская часть(*Client*)

Более подробно про первые три:
- *NameNode* - отдельный, единственный в кластере, сервер с программным кодом для управления пространством имен файловой системы, хранящий дерево файлов, а также мета-данные файлов и каталогов. *NameNode* – обязательный компонент кластера *HDFS*, который отвечает за открытие и закрытие файлов, создание и удаление каталогов, управление доступом со стороны внешних клиентов и соответствие между файлами и блоками, дублированными (реплицированными) на узлах данных. Сервер имён раскрывает для всех желающих расположение блоков данных на машинах кластера.
- *DataNode* - один их множества серверов кластера с программным кодом, отвечающим за файловые операции и работу с блоками данных. *DataNode* – обязательный компонент кластера *HDFS*, который отвечает за запись и чтение данных, выполнение команд от узла *NameNode* по созданию, удалению и репликации блоков, а также периодическую отправку сообщения о состоянии (heartbeats) и обработку запросов на чтение и запись, поступающих от клиентов файловой системы *HDFS*. Стоит отметить, что данные проходят с остальных узлов кластера к клиенту мимо узла *NameNode*.
- Secondary *NameNode* - отдельный сервер, единственный в кластере, который копирует образ *HDFS* и лог транзакций операций с файловыми блоками во временную папку, применяет изменения, накопленные в логе транзакций к образу *HDFS*, а также записывает его на узел *NameNode* и очищает лог транзакций. Secondary *NameNode* необходим для быстрого ручного восстанавления *NameNode* в случае его выхода из строя.

Сама по себе концепция работы с данными в *HDFS* происходит через модель взаимодействия "ведущий-ведомый", где:
- Роль ведущего отдается узлу имен (*NameNode*)
- Роль ведомого исполняет узел данных (*DataNode*)
