## Типы данных и политик безопасности в Apache Ranger

### Типы данных

1. **Классификация данных**:
- **Чувствительные данные**: Данные, которые требуют строгого контроля доступа (например, персонально идентифицируемая информация (PII), финансовая информация).
- **Открытые данные**: Данные, доступ к которым может быть предоставлен более широкой аудитории. Политики могут обеспечивать более низкий уровень контроля доступа для таких данных.

2. **Уровни доступа к данным**:
- **Уровень базы данных**: Политики могут быть применены к целым базам данных.
- **Уровень таблиц**: Условия и права доступа могут определяться для конкретных таблиц в базе данных.
- **Уровень строк**: Ranger поддерживает контроль доступа на уровне строк, что позволяет применять различные политики для отдельных записей данных (например, в зависимости от значений в определенных столбцах).
- **Уровень столбцов**: Позволяет устанавливать разрешения для отдельный столбцов, что позволяет более точно управлять доступом к определенным частям данных.

### Политики безопасности

1. **Политики разрешений**:
- **Чтение (Read)**: Разрешает доступ для чтения данных.
- **Запись (Write)**: Разрешает запись или обновление данных.
- **Удаление (Delete)**: Разрешает удаление данных.
- **Исполнение (Execute)**: Разрешает выполнение операций (например, запуск хранимых процедур).

2. **Аудиты и мониторинг**:
- Политики могут включать параметры для аудита, которые регистрируют операции доступа к данным, позволяя отслеживать, кто, когда и какие данные использовал.

3. **Ролевое управление доступом (RBAC)**:
- Ranger поддерживает создание ролей, которые объединяют разрешения, применяемые к группам пользователей. Это упрощает администрирование, так как права могут назначаться на основе ролей, а не для каждого пользователя в отдельности.

4. **Атрибутное управление доступом (ABAC)**:
- Ranger может поддерживать атрибутное управление доступом, позволяя применять более гибкие правила контроля доступа на основе свойств данных и контекста пользователя (например, на основе метаданных).

5. **Динамические политики**:
- Позволяют применять различные правила доступа в зависимости от контекста, например, в зависимости от времени, геолокации и других условий.

6. **Интеграция с системами аутентификации**:
- Политики безопасности могут интегрироваться с различными механизмами аутентификации, такими как LDAP, Kerberos и Active Directory, что позволяет централизовать управление доступом.

### Примеры применения

- В Hive можно установить политику, запрещающую неавторизованным пользователям доступ к определённым столбцам таблицы с чувствительными данными, такими как номера социального страхования.
- В HBase можно создать политику, позволяющую определённой группе пользователей (например, аналитикам) выполнять операции чтения только на определенных строках таблицы на основе значений в других столбцах.