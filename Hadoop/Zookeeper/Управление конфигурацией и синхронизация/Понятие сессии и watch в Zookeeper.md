
**Сессия** в ZooKeeper — это временной промежуток, в течение которого клиент взаимодействует с сервером. При создании сессии клиент получает уникальный идентификатор, который используется для управления запросами. Каждая сессия имеет следующие характеристики:

- **Идентификатор сессии**: Уникальный ID, присваиваемый клиенту при подключении к серверу ZooKeeper.
- **Heartbeat**: Клиент периодически отправляет контрольные сигналы (heartbeat) на сервер для поддержания активной сессии. Если сервер не получает heartbeat в течение установленного времени (timeout), он считает клиента недоступным и завершает сессию.
- **Обслуживание запросов**: Все запросы клиента обрабатываются поочередно в порядке их поступления (FIFO).
---
## Watches (наблюдения) в ZooKeeper

**Watches** — это механизм уведомлений, позволяющий клиентам получать оповещения об изменениях в указанных ZNode. Основные аспекты работы с watches:

- **Одноразовые триггеры**: Каждый watch срабатывает только один раз. После срабатывания клиенту необходимо заново установить watch, если он хочет продолжать получать уведомления.
- **Типы событий**: Watches могут быть установлены на операции, такие как `exists`, `getData`, и `getChildren`. Они срабатывают при изменении состояния ZNode:
    
    - **Created**: Узел был создан.
    - **Deleted**: Узел был удален.
    - **Changed**: Данные узла изменились.
    - **Child**: Изменения в дочерних узлах.
    

Пример использования watches:
```java
zk.getData("/myZnode", true, null);
```
При изменении данных в `/myZnode`, клиент получит уведомление о событии.

---

