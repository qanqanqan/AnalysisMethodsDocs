## Что такое Capacity Scheduler и Fair Scheduler в YARN?

Capacity Scheduler и Fair Scheduler — это два инструмента планирования ресурсов в экосистеме Apache Hadoop YARN (Yet Another Resource Negotiator), которые помогают управлять ресурсами кластеров и обеспечивать эффективное выполнение задач.

### Capacity Scheduler

Capacity Scheduler (планировщик мощностей) предназначен для многопользовательских сред, где важно обеспечить изоляцию ресурсов между различными пользователями или группами. Его ключевые характеристики включают:

1. Изоляция ресурсов: Позволяет пользователям или группам предопределить доли ресурсов кластера (например, количество оперативной памяти и процессорного времени), которые они могут использовать. Это помогает предотвратить ситуацию, когда один пользователь может исчерпать все ресурсы кластера.

2. Квоты: Пользователи могут установить квоты на ресурсы, что позволяет более эффективно управлять доступом к кластеру.

3. Очереди: Задачи распределяются по очередям, каждая из которых может иметь свои настройки, например, максимальное количество ресурсов и приоритета задач.

4. Производительность: Обеспечивает стабильную производительность за счет выделения ресурсов для каждой очереди и контроля их использования.

Capacity Scheduler особенно полезен в больших организациях, где разные команды могут иметь разные требования к ресурсам.

### Fair Scheduler

Fair Scheduler (планировщик справедливости) направлен на обеспечение равного доступа к ресурсам для всех задач. Основные характеристики Fair Scheduler включают:

1. Справедливое распределение: Этот планировщик распределяет ресурсы с целью обеспечения максимальной справедливости между задачами. Например, если несколько задач находятся в ожидании, планировщик будет распределять ресурсы таким образом, чтобы каждая задача могла получить свою часть ресурсов.

2. Resource Pools: Пользователи могут создавать пулы ресурсов, которые позволяют объединять несколько задач, и они будут получать ресурсы пропорционально числу задач в пуле.

3. Очереди: Fair Scheduler также использует очереди, но в них задачи распределяются так, чтобы каждая задача получала равное количество ресурсов по сравнению с другими задачами, что обеспечивает более равное использование ресурсов кластера.

Fair Scheduler подходит для сценариев, где необходимо обеспечить максимальную справедливость и балансировку нагрузки между различными задачами.

### Выбор между Capacity Scheduler и Fair Scheduler

Выбор между этими планировщиками зависит от специфики требований вашей инфраструктуры:

- Capacity Scheduler предпочтителен, если вам необходимо обеспечить строгую изоляцию ресурсов и управление квотами для различных пользователей или групп.

- Fair Scheduler лучше подходит для сценариев, где важна справедливость в распределении ресурсов между задачами, и вы хотите избежать ситуации, когда одни задачи доминируют над другими.

Оба планировщика имеют свои уникальные особенности и могут использоваться в зависимости от сценария и требований вашей организации.