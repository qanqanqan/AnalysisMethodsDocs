## Какие основные компоненты YARN?

YARN (Yet Another Resource Negotiator) — это ключевой компонент экосистемы Apache Hadoop, который отвечает за управление ресурсами в распределённых вычислительных кластерах. Он позволяет различным приложениям эффективно использовать ресурсы кластера, обеспечивая гибкость и масштабируемость. Основные компоненты YARN включают:

### 1. ResourceManager (RM)

ResourceManager — это главный управляющий элемент YARN, который отвечает за:
- Управление ресурсами: Распределяет ресурсы кластера (например, память и процессорное время) между различными приложениями, запрашивающими эти ресурсы.
- Мониторинг состояния: Следит за состоянием всех узлов кластера и управляющих процессов, которые выполняются на этих узлах.
- Обработка запросов: Обрабатывает запросы от различных ApplicationMaster для получения необходимых ресурсов.

### 2. NodeManager (NM)

NodeManager — это агент, работающий на каждом узле кластера, который выполняет следующие функции:
- Управление контейнерами: Запускает и управляет контейнерами, которые выполняют задачи приложений.
- Мониторинг ресурсов: Следит за использованием ресурсов (CPU, память и дисковое пространство) на узле и сообщает это состояние ResourceManager.
- Обеспечение выполнения задач: Обрабатывает запросы от ApplicationMaster для выделения контейнеров и управления их состоянием.

### 3. ApplicationMaster (AM)

Для каждого запущенного приложения (например, задачи MapReduce) создаётся отдельный экземпляр ApplicationMaster. Его функции включают:
- Запрос ресурсов: Запрашивает необходимые ресурсы (контейнеры) у ResourceManager для выполнения задач приложения.
- Управление выполнением задач: Responsible за планирование и управление выполнением задач, выполняемых в контейнерах на узлах кластера.
- Мониторинг выполнения: Следит за состоянием запущенных контейнеров и управляет ошибками и сбоями.

### 4. Contianer

Контейнер — это абстракция в YARN, которая представляет собой набор ресурсов (например, CPU, память), выделяемый для выполнения одной задачи приложения. Каждый контейнер имеет свои собственные ресурсы и изолирован, что обеспечивает безопасное выполнение приложений. Контейнер может использоваться как для выполнения задач MapReduce, так и для других приложений, работающих на YARN.

### 5. Scheduler

Существует несколько типов планировщиков в YARN, которые отвечают за распределение ресурсов между приложениями и контейнерами:
- Capacity Scheduler: Позволяет многопользовательскому доступу к ресурсам кластера, разделяя ресурсы на различные очереди.
- Fair Scheduler: Стремится обеспечить равную справедливость в распределении ресурсов между приложениями, чтобы каждый имел возможность эффективно использовать ресурсы.
В YARN также можно использовать сторонние планировщики.

### Взаимосвязь компонентов YARN

Взаимодействие этих компонентов обеспечивает эффективное управление ресурсами, распределение задач и оптимизацию выполнения приложений, что делает YARN мощной платформой для обработки больших данных. Таким образом, YARN может поддерживать различные парадигмы обработки, включая MapReduce, Apache Spark и другие.