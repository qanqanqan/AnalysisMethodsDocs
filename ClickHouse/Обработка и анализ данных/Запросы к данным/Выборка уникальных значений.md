В ClickHouse для выборки уникальных значений используется функция `DISTINCT`, а также агрегатная функция `COUNT(DISTINCT ...)` для подсчета количества уникальных значений в столбце. Ниже приведены основные способы выполнения выборки уникальных значений.

## 1. Использование DISTINCT

Функция `DISTINCT` позволяет получить уникальные значения из указанного столбца. 

### Пример

Предположим, у вас есть таблица `users` со следующей структурой:

```sql
CREATE TABLE users (
    id UInt32,
    name String,
    age UInt32
) ENGINE = MergeTree()
ORDER BY id;
```

Чтобы получить все уникальные имена пользователей, вы можете выполнить следующий запрос:

```sql
SELECT DISTINCT name FROM users;
```

Этот запрос вернет все уникальные значения из столбца `name`.

## 2. Подсчет уникальных значений

Если вам нужно узнать, сколько уникальных значений содержится в столбце, вы можете использовать агрегатную функцию `COUNT(DISTINCT ...)`.

### Пример

Чтобы подсчитать количество уникальных имен пользователей в таблице `users`, выполните следующий запрос:

```sql
SELECT COUNT(DISTINCT name) AS unique_name_count FROM users;
```

Этот запрос вернет общее количество уникальных имен в таблице.

## 3. Уникальные значения с группировкой

Вы также можете использовать `DISTINCT` в сочетании с оператором `GROUP BY`, чтобы получить уникальные значения по другим критериям.

### Пример

Если вы хотите получить уникальные значения имен пользователей вместе с их возрастом, выполните следующий запрос:

```sql
SELECT DISTINCT name, age FROM users;
```

Этот запрос вернет все уникальные комбинации имен и возрастов пользователей.

## 4. Уникальные значения из нескольких столбцов

ClickHouse позволяет использовать `DISTINCT` для выборки уникальных комбинаций значений из нескольких столбцов.

### Пример

Чтобы получить уникальные комбинации имени и возраста пользователей, используйте следующий запрос:

```sql
SELECT DISTINCT name, age FROM users;
```

Этот запрос вернет все уникальные пары значений из столбцов `name` и `age`.

## Заключение

Выборка уникальных значений в ClickHouse может быть выполнена с помощью функции `DISTINCT`, а также с использованием агрегатной функции `COUNT(DISTINCT ...)`. Эти функции позволяют эффективно работать с данными и получать необходимую информацию о разнообразии значений в ваших таблицах.