## Типы данных и использование SQL-запросов в GreenPlum

Greenplum, как аналитическая база данных на основе PostgreSQL, поддерживает разнообразные типы данных и предоставляет широкие возможности для выполнения SQL-запросов. Рассмотрим эти аспекты подробнее:

### Типы данных в Greenplum:

Greenplum поддерживает множество стандартных типов данных, включая:

1. Числовые типы:
- integer: Целочисленный тип. Обычно используется для хранения целых чисел.
- bigint: Целое число большого размера, подходит для хранения больших значений.
- smallint: Целое число малого размера, экономит место.
- decimal/ numeric: Тип данных с фиксированной запятой для хранения точных чисел.
- real и double precision: Типы данных с плавающей запятой.

2. Строковые типы:
- varchar(n): Переменная длина строки, максимальная длина – n символов.
- char(n): Фиксированная длина строки, если строка короче, ее заполняют пробелами.
- text: Строковый тип переменной длины, не имеет ограничения в размере.

3. Дата и время:
- date: Дата (без времени).
- time: Время (без даты).
- timestamp: Дата и время.
- interval: Интервал времени.

4. Логический тип:
- boolean: Поддерживает значения true, false и NULL.

5. Специальные типы:
- bytea: Хранение бинарных данных.
- json и jsonb: Хранение данных в формате JSON, где jsonb использует бинарное представление для более быстрого доступа и выполнения операций.
- hstore: Тип данных для хранения наборов пар ключ-значение.

6. Геопространственные типы:
- Greenplum поддерживает расширения для работы с геоданными, например, PostGIS для хранения и обработки географической информации.

### Использование SQL-запросов в Greenplum:

Greenplum предоставляет мощный инструментарий для выполнения SQL-запросов, поддерживающий широкий спектр операторов и функций. Ниже перечислены основные задачи, которые можно выполнять:

1. Создание, изменение и удаление объектов:
- CREATE TABLE: Создание таблиц с определением схеми и типов данных.
- ALTER TABLE: Изменение структуры таблиц, добавление или удаление столбцов.
- DROP TABLE: Удаление таблиц.

2. Данные манипуляции:
- INSERT INTO: Вставка новых записей в таблицы.
- UPDATE: Обновление существующих записей.
- DELETE: Удаление записей из таблиц.

3. Запросы:
- SELECT: Получение данных из одной или нескольких таблиц с возможностью фильтрации, группировки и сортировки результатов. Например:
```sql
       SELECT column1, column2
       FROM my_table
       WHERE condition
       ORDER BY column3;
```

- JOIN: Объединение данных из нескольких таблиц.
```sql
       SELECT a.column1, b.column2
       FROM table_a a
       JOIN table_b b ON a.id = b.a_id;
```

4. Аналитические функции:
- Greenplum поддерживает оконные функции для выполнения сложных аналитических операций и расчётов по наборам данных.
- Пример использования оконной функции:
```sql
       SELECT employee_id, salary,
              RANK() OVER (ORDER BY salary DESC) AS salary_rank
       FROM employees;
```

5. Группировка и агрегатные функции:
- Например, использование AVG(), COUNT(), SUM() для вычисления агрегатов по группам данных:
```sql
       SELECT department_id, AVG(salary) AS avg_salary
       FROM employees
       GROUP BY department_id;
```

6. Подзапросы и CTE (Common Table Expressions):
- Greenplum поддерживает подзапросы и CTE для более сложных запросов.
